<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Gateway Docs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">
                <a href="index.html" class="gradient-text">Open Source AI Gateway</a>
            </div>
            <div class="nav-links">
                <a href="index.html#features">Features</a>
                <a href="#" class="active">Docs</a>
                <a href="https://github.com/wx-yz/ai-gateway" class="github-link">
                    <i data-feather="github"></i> GitHub
                </a>
            </div>
        </div>
    </nav>

    <div class="docs-container">
        <aside class="docs-sidebar">
            <div class="sidebar-content">
                <h3>Contents</h3>
                <ul>
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li><a href="#configuration">Configuration</a></li>
                    <li><a href="#api-endpoints">API Endpoints</a></li>
                    <li><a href="#admin-api">Admin API</a></li>
                    <li><a href="#guardrails">Guardrails</a></li>
                    <li><a href="#caching">Caching</a></li>
                    <li><a href="#logging">Logging</a></li>
                    <li><a href="#analytics">Analytics</a></li>
                </ul>
            </div>
        </aside>

        <main class="docs-content">
            <h1>Documentation</h1>
            
            <section id="getting-started">
                <h2>Getting Started</h2>
                <p>The AI Gateway provides a unified interface for multiple LLM providers with built-in features for production deployments.                 
                First create a file named <code>Config.toml</code> with following contents</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>Config.toml - minimal example with just one provider</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>                        
                    </div>
                    <pre><code>[openAIConfig]
apiKey = "sk-..."
model = "gpt-4o"
endpoint = "https://api.openai.com" 
                    </code></pre>
                </div>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Quick Start with Docker</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>docker run \
-p 8080:8080 -p 8081:8081 \
-v $(pwd)/Config.toml:/home/ballerina/Config.toml \
chintana/ai-gateway:v1.0.0</code></pre>
                </div>
            </section>

            <section id="configuration">
                <h2>Configuration</h2>
                <p>Create a <code>Config.toml</code> file to configure your LLM providers. At least one provider must be configured.</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Config.toml Example</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>[gateway]
port = 8080
adminPort = 8081
verboseLogging = true

[openAIConfig]
apiKey = "sk-proj-..."
model = "gpt-4o"
endpoint = "https://api.openai.com" 

[anthropicConfig]
apiKey = "sk-ant-..."
model = "claude-3-5-sonnet-20241022"
endpoint = "https://api.anthropic.com"

[ollamaConfig]
apiKey = "hello"
model = "llama3.2:latest"
endpoint = "http://localhost:11434"

[geminiConfig]
apiKey = "..."
model = "gemini-1.5-flash"
endpoint = "https://generativelanguage.googleapis.com/v1beta"

[mistralConfig]
apiKey = "..."
model = "mistral-small-latest"
endpoint = "https://api.mistral.ai"

[cohereConfig]
apiKey = "..."
model = "command-r-plus-08-2024"
endpoint = "https://api.cohere.com"
</code></pre>
                </div>
            </section>

            <section id="api-endpoints">
                <h2>API Endpoints</h2>
                <h3>Chat Completion (Port 8080)</h3>
                <p>Send chat completion requests to any configured provider. Select provider using <code>x-llm-provider</code> header</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Chat Request Example</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>curl -X POST http://localhost:8080/chat \
    -H "Content-Type: application/json" \
    -H "x-llm-provider: openai" \
    -d '{ "prompt": "What is the capital of France?" }'</code></pre>
                </div>
            </section>

            <section id="admin-api">
                <h2>Admin API</h2>
                <p>The admin API (Port 8081) provides endpoints for configuring and managing the gateway.</p>

                <h3>System Prompt Injection</h3>
                <p>Inject a system prompt for outging user prompts</p>
                <div class="code-block">
                    <div class="code-header">
                        <span>Configure System Prompt</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>curl -X POST http://localhost:8081/admin/systemprompt \
    -H "Content-Type: application/json" \
    -d '{ "prompt": "Respond in Japanese" }'</code></pre>
                </div>
            </section>

            <section id="guardrails">
                <h2>Guardrails</h2>
                <p>Configure content filtering and safety measures for all responses.</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Configure Guardrails</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>curl -X POST http://localhost:8081/admin/guardrails \
    -H "Content-Type: application/json" \
    -d '{
        "bannedPhrases": ["harmful", "inappropriate"],
        "minLength": 10,
        "maxLength": 2000,
        "requireDisclaimer": true,
        "disclaimer": "AI-generated response"
    }'</code></pre>
                </div>
            </section>

            <section id="caching">
                <h2>Caching</h2>
                <p>The gateway includes an in-memory cache with configurable TTL for improved performance.</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Cache Management</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># View cache contents
curl http://localhost:8081/admin/cache

# Clear cache
curl -X DELETE http://localhost:8081/admin/cache</code></pre>
                </div>
            </section>

            <section id="logging">
                <h2>Logging</h2>
                <p>Configure enterprise logging integrations and verbosity levels.</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>Configure Logging</span>
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>curl -X POST http://localhost:8081/admin/logging \
    -H "Content-Type: application/json" \
    -d '{
        "enableSplunk": true,
        "splunkEndpoint": "http://splunk:8088",
        "enableDatadog": true,
        "datadogEndpoint": "http://datadog-agent:8125"
    }'</code></pre>
                </div>
            </section>

            <section id="analytics">
                <h2>Analytics</h2>
                <p>Access the analytics dashboard to monitor usage, performance, and errors.</p>
                
                <div class="info-box">
                    <i data-feather="info"></i>
                    <p>View the analytics dashboard at <code>http://localhost:8081/admin/stats</code></p>
                </div>
                
                <p>The dashboard provides:</p>
                <ul class="feature-list">
                    <li>Request counts by provider</li>
                    <li>Token usage statistics</li>
                    <li>Cache hit rates</li>
                    <li>Error tracking</li>
                    <li>Real-time monitoring</li>
                </ul>
            </section>
        </main>
    </div>

    <script>
        feather.replace();
        
        function copyCode(button) {
            const codeBlock = button.parentElement.nextElementSibling;
            const code = codeBlock.textContent;
            navigator.clipboard.writeText(code);
            
            button.textContent = 'Copied!';
            setTimeout(() => {
                button.textContent = 'Copy';
            }, 2000);
        }
    </script>
</body>
</html> 